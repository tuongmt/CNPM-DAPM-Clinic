@model IEnumerable<DoAn_CNPM.Models.User>

@{
    ViewBag.Title = "THÔNG TIN BỆNH NHÂN";
    Layout = "~/Views/Shared/_Layout_Patient.cshtml";
}

@if (Session["patient"] == null)
{
    <script type="text/javascript">
        window.location.href = '@Url.Action("Login", "LoginUser")';
    </script>
}
else
{
<div style="width:50%;margin:auto;padding:8px;min-height:470px">
    <div class="tabular--wrapper">
        <h2 class="h2--title">@ViewData["Title"]</h2>
        <hr />
        <div class="d_flex">
            @foreach (var item in Model)
            {
                if (item.UserId.ToString() == Session["PatientId"].ToString())
                {
                    <div>
                        <div class="img-thumbnail">
                            <img src="~/Images/Avatar/@item.Image" class="img-avatar" alt="Hình ảnh" width="180" height="210" />
                        </div>
                    </div>
                    <div style="padding-left:30px;" class="">
                        <dl class="row">
                            <dt class="col-5 p b">
                                Tên tài khoản:
                            </dt>
                            <dd class="col-7 p">
                                @Html.DisplayFor(modelItem => item.Username)
                            </dd>
                            <dt class="col-5 p b">
                                Tên:
                            </dt>
                            <dd class="col-7 p">
                                @Html.DisplayFor(modelItem => item.FullName)
                            </dd>
                            <dt class="col-5 p b">
                                Giới tính:
                            </dt>
                            <dd class="col-7 p">
                                @Html.DisplayFor(modelItem => item.Gender)
                            </dd>
                            <dt class="col-5 p b">
                                Vai trò:
                            </dt>
                            <dd class="col-7 p">
                                Bệnh nhân
                            </dd>
                            <dt class="col-5 p b">
                                Số điện thoại:
                            </dt>
                            <dd class="col-7 p">
                                @Html.DisplayFor(modelItem => item.Phone)
                            </dd>
                            <dt class="col-5 p b">
                                Địa chỉ:
                            </dt>
                            <dd class="col-7 p">
                                @Html.DisplayFor(modelItem => item.Address)
                            </dd>
                            <dt class="col-5 p b">
                                Ngày sinh
                            </dt>
                            <dd class="col-7 p">
                                @if (item.DOB.HasValue)
                                {
                                    @item.DOB.Value.ToString("dd-MM-yyyy")
                                }
                            </dd>
                            <dd class="col-12 p" style="text-align: center;  ">
                                <a href="@Url.Action("Patient_Edit", new { id = item.UserId })" class="btn btn-edit" style="background: #0f3460; color: #fff;"><i class="fa-solid fa-pen-to-square"></i> Cập nhật</a>
                            </dd>
                        </dl>
                    </div>
                }
            }
        </div>
    </div>
</div>
}


